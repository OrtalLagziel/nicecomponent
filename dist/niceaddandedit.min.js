/**
 * niceaddandedit
 * @version v0.0.1 - 2016-07-13
 * @link 
 * @author  <>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

angular.module("templates-niceaddandedit",["niceaddandedit.html"]),angular.module("niceaddandedit.html",[]).run(["$templateCache",function(a){a.put("niceaddandedit.html",'<div ng-form="inputForm" class="addAndEditInputText">\n    <input ng-focus="touched = true" ng-change="inputChanged()" name="objectName" class="form-control objectName" ng-model="ngModel.loginId" ng-disabled="!ngModel.editMode && !isMaster" ng-class="getValidationClass()" type="text"/>\n    <div class="containerButtons">\n        <button ng-show="isMaster"  disabled="disabled" class=\'btn btn-sm btn-primary\' ng-disabled="!canToAdd()" ng-click=\'addItem()\' translate="commonButtons.add"></button>\n        <button ng-show=\'!isMaster && !ngModel.editMode\' class=\'btn btn-link delete-button\' ng-click=\'removeItem(ngModel)\'></button>\n        <button ng-show=\'!isMaster&& !ngModel.editMode\' class=\'btn btn-link edit-button\' ng-click=\'actionEdit(ngModel)\'></button>\n        <button ng-show=\'!isMaster && ngModel.editMode\' class=\'btn btn-primary btn-sm\' ng-click=\'saveAfterEdit(ngModel)\' translate="commonButtons.save"></button>\n        <button ng-show=\'!isMaster && ngModel.editMode\' class=\'btn btn-sm cancel-button\' ng-click=\'actionCancelAfterEdit(ngModel)\'  translate="commonButtons.cancel"></button>\n    </div>\n    <div ng-show="notUniqeError && !maximumSize"><span class="error-message" translate="activityCodes.modal.errors.uniqueTitle"></span></div>\n    <!--<div ng-show="touched && isEmpty && !maximumSize && addClicked"><span class="error-message" translate="generalErrorMessages.required"></span></div>-->\n    <div ng-show="maximumSize"><span class="error-message" ng-bind="limitItemsRequired"></span></div>\n</div>\n\n')}]),angular.module("niceaddmodule").directive("niceaddandedit",["$translate",function(a){"use strict";return{restrict:"EA",replace:!0,templateUrl:"niceaddandedit.html",scope:{ngModel:"=",isMaster:"=?",ngDisabled:"=?",titles:"=?",limitInputs:"=?",actionAdd:"&?",actionRemove:"&?",activityChanged:"&?",actionEdit:"&?",actionSaveAfterEdit:"&?",actionCancelAfterEdit:"&?"},link:function(b,c,d,e){b.ngDisabled=b.ngDisabled?b.ngDisabled:!1,b.limitItemsRequired=a.instant("createUserModal.maxLimitOfACD",{items:b.limitInputs}),b.limitInputs=b.limitInputs?parseInt(b.limitInputs):50,b.isMaster=b.isMaster?b.isMaster:!1,b.isDirty=!1,b.ngDisabled=b.ngDisabled?b.ngDisabled:!1,b.notUniqeError=!1,b.elapseModel=function(){b.ngModel.loginId="",b.addClicked=!1},null!=b.ngModel||b.ngDisabled||(b.ngModel={loginId:"",editMode:!1}),b.disabledMode=!b.ngModel.editMode&&!b.isMaster,b.goToActivityChanged=function(){b.isDirty=!0},b.isValid=function(){return b.isMaster?(-1!==b.titles.indexOf(b.ngModel.loginId)?b.notUniqeError=!0:b.notUniqeError=!1,b.titles.length===b.limitInputs?b.maximumSize=!0:b.maximumSize=!1,!b.notUniqeError&&""!==b.ngModel.loginId&&!b.maximumSize):!0},b.inputChanged=function(){b.canToAdd()},b.canToAdd=function(){return b.isMaster?b.isValid():void 0},b.saveAfterEdit=function(a){-1!==b.titles.indexOf(b.ngModel.loginId)?b.notUniqeError=!0:(b.notUniqeError=!1,b.actionSaveAfterEdit(a))},b.addItem=function(){return b.addClicked=!0,""===b.ngModel.loginId?void(b.isEmpty=!0):b.titles.length===b.limitInputs?void(b.maximumSize=!0):(b.maximumSize=!1,b.isEmpty=!1,void(-1!==b.titles.indexOf(b.ngModel.loginId)?b.notUniqeError=!0:(b.notUniqeError=!1,b.canToAdd()&&(b.actionAdd(b.ngModel),b.elapseModel()))))},b.getValidationClass=function(){return!b.isValid()&&b.isMaster&&""!==b.ngModel.loginId?"invalidInput":void 0},b.canEdit=function(){return 0===Object.keys(b.activityForm.$error).length},b.removeItem=function(a){b.actionRemove(a),b.maximumSize=!1}}}}]);
//# sourceMappingURL=niceaddandedit.min.js.map